{% extends 'home/layoutHome.html' %}
{% block content %}
{% load static %}

<!-- Trending Div: Automatically updates every 30 seconds -->
<div class="text-center text-green-400 bg-transparent w-[95%] h-[90%] slide-in" id="trending-div"
     hx-get="{% url 'update_trending_tokens' %}" hx-trigger="every 30s" hx-target="#trending-div">
    <h1 class="text-8xl font-bold lovelo-text">Gilde Crypto - Trending Coins</h1>
    <!-- Initial content loaded here -->
    <div class="flex flex-wrap justify-center gap-6 mt-8">
        {% for token in trending_tokens %}
            <div class="bg-transparent rounded-lg border border-green-800 shadow-lg p-4 w-[20%]">
                <img src="{{ token.thumb }}" alt="{{ token.name }}" class="w-16 h-16 mx-auto rounded-full">
                <h2 class="text-xl font-semibold mt-4">{{ token.name }} - ${{ token.price }}</h2>
                <p class="text-sm ">Symbol: {{ token.symbol }}</p>
                <p class="text-sm ">Market Cap Rank: {{ token.market_cap_rank }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<!-- Highest Coins Div: Automatically updates every 30 seconds -->
<div class="text-center text-green-400 bg-transparent w-[95%] h-[90%] slide-out" id="highest-coins-div"
     hx-get="{% url 'update_highest_coins' %}" hx-trigger="every 30s" hx-target="#highest-coins-div">
    <h1 class="text-8xl font-bold lovelo-text">Gilde Crypto - Highest Coins</h1>
    <!-- Initial content loaded here -->
    <div class="flex flex-wrap justify-center gap-6 mt-8">
        {% for token in top_coins %}
            <div class="bg-transparent rounded-lg border border-green-800 shadow-lg p-4 w-[20%]">
                <img src="{{ token.thumb }}" alt="{{ token.name }}" class="w-16 h-16 mx-auto rounded-full">
                <h2 class="text-xl font-semibold mt-4">{{ token.name }} - ${{ token.price }}</h2>
                <p class="text-sm ">Symbol: {{ token.symbol }}</p>
                <p class="text-sm ">Market Cap Rank: {{ token.market_cap_rank }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<!-- JavaScript for toggling visibility -->
<script src="{% static 'js/home.js' %}"></script>
<link rel="stylesheet" href="{% static 'css/home.css' %}"/>

{% endblock %}
